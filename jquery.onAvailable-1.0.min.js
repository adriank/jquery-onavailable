(function(A){A.extend({onAvailable:function(E,H){var B=A.onAvailable;if(!(E instanceof Array)){E=[E];}if(typeof H!=="function"){throw new TypeError();}var G=arguments[2];var C=arguments[3];var F=!!arguments[4];var D=B.listeners;A.each(E,function(I,J){D.push({id:J,callback:H,obj:G,override:C,checkContent:F});});if(!B.interval){B.interval=window.setInterval(B.checkAvailable,B.POLL_INTERVAL);}return this;},onContentReady:function(C,E,D,B){A.onAvailable(C,E,D,B,true);}});A.extend(A.onAvailable,{POLL_RETRIES:2000,POLL_INTERVAL:20,interval:null,listeners:[],executeCallback:function(C,D){var B=C;if(D.override){if(D.override===true){B=D.obj;}else{B=D.override;}}D.callback.call(B,D.obj);},checkAvailable:function(){var B=A.onAvailable;var C=B.listeners;A.each(C,function(D,F){if(F){var E=document.getElementById(F.id);if(E&&(!F.checkContent||A.isReady||E.nextSibling)){C.splice(D,1);B.executeCallback(E,F);}if(C.length===0||--B.POLL_RETRIES===0){B.interval=window.clearInterval(B.interval);}}});}});})(jQuery);
